<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

    <head>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="/css/default.css">
        <link rel="stylesheet" href="/css/w3.css">
        <link rel="stylesheet" href="/css/add-reservation-time.css">

        <title>Reservation Time</title>
    </head>

    <body class="w3-content" style="max-width:650px">
        <div class="w3-center">
            <h3>Office: </h3>
            <h3 th:text="${currentOffice.officeName}"></h3>
            <h3> | Room: </h3>
            <h3 th:text="${currentRoom.roomName}"></h3>
        </div>

        <!--
            Form
        -->
        <div class="form-position">
            <form th:action="@{/reserve-room}" th:object="${reservation}" method="post">
                <p id="first-form">1. Reservation Date</p>
                <p id="second-form">2. Reservation Time</p>

                <div class="w3-row">
                    <div class="w3-half">
                        <label>
                            From
                            <input class="input-reservation-time-from" type="time" th:field="*{reservationTimeFrom}">
                        </label>
                    </div>

                    <div class="w3-half">
                        <label>
                            To
                            <input class="input-reservation-time-to" type="time" th:field="*{reservationTimeTo}">
                        </label>
                    </div>
                </div>

                <p class="w3-panel w3-pale-red error-message" th:if="${#fields.hasErrors('reservationTimeFrom')}" th:errors="*{reservationTimeFrom}"></p>
                <p class="w3-panel w3-pale-red error-message" th:if="${#fields.hasErrors('reservationTimeTo')}" th:errors="*{reservationTimeTo}"></p>

                <button class="w3-blue-grey" type="submit" name="action" value="Add reservation">Add reservation</button>
                <button class="w3-blue-grey" type="submit" name="action" value="Cancel">Cancel</button>
            </form>
        </div>

        <!--
            Table and information referring to this one
        -->
        <p class="reservation-date">Reservations for the </p>
        <p class="reservation-date" th:text="${currentReservation.reservationDate}"></p>

        <p id="table-description">The following table shows all reservations from all people made for the selected date.</p>

        <div th:if="${reservations.isEmpty()}">
            <table class="w3-table w3-bordered w3-centered w3-card-2">
                <thead>
                    <tr>
                        <th scope="col">Reservation Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>No reservations up to now</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div th:if="${!reservations.isEmpty()}">
            <table class="w3-table w3-bordered w3-centered w3-card-2">
                <thead>
                    <tr>
                        <th scope="col">Reservation Time</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="reservation : ${reservations}">
                        <td>
                            <p class="table-reservation-time" th:text="${reservation.reservationTimeFrom}"></p>
                            <p class="table-reservation-time"> - </p>
                            <p class="table-reservation-time" th:text="${reservation.reservationTimeTo}"></p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>

</html>
